[gd_scene load_steps=17 format=3 uid="uid://clfwbndiph4dn"]

[ext_resource type="Script" path="res://scripts/Levels/initiate level.gd" id="1_5j3o7"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="2_6o67q"]
[ext_resource type="Script" path="res://scripts/tools/AStar.gd" id="2_crqly"]
[ext_resource type="PackedScene" uid="uid://bxe52o1h4f8en" path="res://scenes/tools/ledge.tscn" id="2_jj0m5"]
[ext_resource type="PackedScene" uid="uid://btuch2skaq6tn" path="res://scenes/tools/respawner_handler.tscn" id="3_hw7x1"]
[ext_resource type="PackedScene" uid="uid://db82jlojuy6qm" path="res://scenes/characters/PB.tscn" id="4_d5k7j"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_3D.gd" id="6_k006f"]
[ext_resource type="Script" path="res://scripts/tools/Dynamic Camera Target Tracker.gd" id="7_hguk8"]
[ext_resource type="PackedScene" uid="uid://bvg8potcgyin4" path="res://scenes/characters/Fella.tscn" id="9_acq56"]

[sub_resource type="BoxMesh" id="BoxMesh_ob63o"]
size = Vector3(20, 2, 2)

[sub_resource type="BoxMesh" id="BoxMesh_mupgb"]
size = Vector3(4, 0.1, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_cc4rc"]
size = Vector3(45, 45, 2)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_w0hmw"]

[sub_resource type="Sky" id="Sky_whvvx"]
sky_material = SubResource("ProceduralSkyMaterial_w0hmw")

[sub_resource type="Environment" id="Environment_1s338"]
background_mode = 2
sky = SubResource("Sky_whvvx")

[sub_resource type="BoxShape3D" id="BoxShape3D_uqvet"]
size = Vector3(29.3002, 24.6514, 5.09458)

[node name="Test Level" type="Node3D"]
script = ExtResource("1_5j3o7")

[node name="Ledges" type="Node3D" parent="."]

[node name="Ledge" parent="Ledges" instance=ExtResource("2_jj0m5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10, 0, 0)

[node name="Ledge2" parent="Ledges" instance=ExtResource("2_jj0m5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 0, 0)
grabbable_direction = "Right"

[node name="Stage" type="StaticBody3D" parent="." groups=["pathable"]]

[node name="MeshInstance3D" type="MeshInstance3D" parent="Stage"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
mesh = SubResource("BoxMesh_ob63o")

[node name="CollisionPolygon3D" type="CollisionPolygon3D" parent="Stage"]
depth = 2.0
polygon = PackedVector2Array(-10, 0, 10, 0, 10, -2, -10, -2)

[node name="Side Plat" type="StaticBody3D" parent="." groups=["pathable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.99206, 2.375, 0)
collision_layer = 2
collision_mask = 0

[node name="MeshInstance3D" type="MeshInstance3D" parent="Side Plat"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.05, 0)
mesh = SubResource("BoxMesh_mupgb")

[node name="CollisionPolygon3D" type="CollisionPolygon3D" parent="Side Plat"]
depth = 2.0
polygon = PackedVector2Array(-2, 0, 2, 0, 2, -0.1, -2, -0.1)

[node name="Middle Plat" type="StaticBody3D" parent="." groups=["pathable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.27712, 0)
collision_layer = 2
collision_mask = 0

[node name="MeshInstance3D" type="MeshInstance3D" parent="Middle Plat"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.05, 0)
mesh = SubResource("BoxMesh_mupgb")

[node name="CollisionPolygon3D" type="CollisionPolygon3D" parent="Middle Plat"]
depth = 2.0
polygon = PackedVector2Array(-2, 0, 2, 0, 2, -0.1, -2, -0.1)

[node name="Side Plat2" type="StaticBody3D" parent="." groups=["pathable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.2017, 2.376, 0)
collision_layer = 2
collision_mask = 0

[node name="MeshInstance3D" type="MeshInstance3D" parent="Side Plat2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.05, 0)
mesh = SubResource("BoxMesh_mupgb")

[node name="CollisionPolygon3D" type="CollisionPolygon3D" parent="Side Plat2"]
depth = 2.0
polygon = PackedVector2Array(-2, 0, 2, 0, 2, -0.1, -2, -0.1)

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.862, 1.5, 5)
fov = 72.9666
near = 0.001

[node name="PhantomCameraHost" type="Node" parent="Camera3D"]
script = ExtResource("2_6o67q")

[node name="Respawner Handler" parent="." instance=ExtResource("3_hw7x1")]

[node name="Node3D" type="Node3D" parent="Respawner Handler/Respawners" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.41273, 4.3584, 0)

[node name="Node3D2" type="Node3D" parent="Respawner Handler/Respawners" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.6977, 4.3584, 0)

[node name="AStar" type="Node3D" parent="."]
unique_name_in_owner = true
script = ExtResource("2_crqly")

[node name="Blast Zone" type="Area3D" parent="."]
transform = Transform3D(1.392, 0, 0, 0, 0.945146, 0, 0, 0, 1, 0.000700951, 0.649168, -0.0200233)
collision_layer = 8
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Blast Zone"]
shape = SubResource("BoxShape3D_cc4rc")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_1s338")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.732875, 0.25499, -0.630772, -2.54639e-09, 0.927112, 0.374785, 0.680363, -0.27467, 0.679458, 0, 0, 0)

[node name="Area3D" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.63138, 0)
top_level = true
collision_layer = 0
collision_mask = 4
script = ExtResource("7_hguk8")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
shape = SubResource("BoxShape3D_uqvet")

[node name="PhantomCamera3D" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.862, 1.5, 5)
script = ExtResource("6_k006f")
priority_override = false
priority = 0
follow_mode = 3
follow_group = Array[NodePath]([NodePath("")])
follow_parameters/auto_distance = true
follow_parameters/min_distance = 5.0
follow_parameters/max_distance = 10.0
follow_parameters/auto_distance_divisor = 10.0
follow_parameters/target_offset = Vector3(0, 1.5, 0)
follow_parameters/damping = false
look_at_mode = 0
tween_parameters = null
tween_on_load = true
inactive_update_mode = 0
camera_3D_resource = null

[node name="Body2" parent="." instance=ExtResource("4_d5k7j")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.862, 18.6187, 0)
player = false

[node name="RayCast3D" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.66736, 5.35071, 0)
target_position = Vector3(-1.1, 0, 0)

[node name="Body" parent="." instance=ExtResource("9_acq56")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.78166, 19.0207, 0.111119)
player_number = 2

[connection signal="body_entered" from="Area3D" to="Area3D" method="_on_body_entered"]
[connection signal="body_exited" from="Area3D" to="Area3D" method="_on_body_exited"]

[editable path="Respawner Handler"]
